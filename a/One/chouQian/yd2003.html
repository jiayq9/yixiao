<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<div id="back"><a href="../index.html" id="opop">＜返回</a></div>
		<h1 class="title">移动通信2103</h1>
		<p class="tab">
		    <button class="btn">点名</button>
		</p>
		<ul class="list">
		
		</ul>
		<style>
		#opop{
		color: #2e6da4;			
		}	
		a{
			text-decoration:none			
		}	
		body,ul {
			margin:0;
			padding:0;
		}
		h1 {
			text-align:center;
		}
		.tab {
			width:1000px;
			margin:0 auto;
			text-align:center;
		}
		.btn {
			padding:10px 20px;
			margin:20px;
		}
		.list {
			padding:30px;
			border:1px solid skyblue;
			width:1000px;
			margin:0 auto;
			text-align:center;
		}
		.list li {
			display:inline-block;
			width:110px;
			height:45px;
			margin:10px;
			text-align:center;
			line-height:45px;
			border-radius:10px;
			font-size:20px;
			border:1px solid #2e6da4;
			background-color:#337ab7;
			color:#fff;
		}
		li:hover {
			background-color:#286090;
			border-color:#204d74;
		}
		li.active {
			border-color:rgb(76,174,76);
			background:rgb(92,184,92);
			box-shadow:4px 4px 5px #666;
		}
		li.end {
			border-color:red;
			background:red;
			box-shadow:4px 4px 5px #666;
		}
		</style>
		<script>1
var arr = ["陈杨慧","高可东","郭天乐","李晨越","李爽","李婉婷","李相霖","李玉龙","李紫妍","梁星亮","刘重阳","秦显洲","孙壮","李志鹏",
"杨昆","冯继成","李登峰","何宇翔","张鼎文","曹兵","方志勇","禹继晴","周杰","敖俊洋","陈嘉阳","鲁晨红","陈智贤","董梓豪","张欣雨","衡虹竹"
,"张郭宇豪","王冉阳",
"范霄霄","辛泽晨","张子怡","黄金志","李傲然","杨甜甜","曹丽婷","刘星雨","代晨强","刘芳鑫","张仁豪","郭哲溪","熊琳琳","王逸帆","刘诗语","汤睿涵",
];
var arrLen = arr.length;
var lastArr = [];
var oList = document.getElementsByClassName('list')[0];
var oBtn = document.getElementsByClassName('btn')[0];
var oActive = null;
var index;
var lastIndex;

function init() {
    var str = '';
    arr.forEach(function(ele, index) {
        str += '<li>' + ele + '</li>'
    });
    oList.innerHTML = str;
}
init();
var timer = null;
var flag = false;
oBtn.onclick = function() {
    if (lastArr.length == arrLen) {
        alert('全班已点完，请重新开始');
        return;
    }
    flag = !flag;
    if (flag) {
        oBtn.innerHTML = '停止';
        timer = setInterval(function() {
            lastIndex = index;
            randomName();
        }, 100);
    } else {		
        clearInterval(timer);
        oActive.className = 'end';
        lastArr.push(index);
        oBtn.innerHTML = '点名';
    }
}

function randomName() {
    index = Math.floor(Math.random() * arrLen);
    if (lastIndex == index) {
        randomName();
        return;
    }
    for (var i = 0; i < lastArr.length; i++) {
        if (lastArr[i] == index) {
            randomName();
            return;
        }
    }
    if (oActive) {
        oActive.className = '';
    }
    oActive = oList.getElementsByTagName('li')[index];
    oActive.className = 'active';
}

</script>
		         <script src="../js/jquery.min.js"></script>
         <script src="../js/su.js"></script>
	<!-- 雪花特效 -->
	<script src="../js/snowy.js"></script>
	<style type="text/css">
	.snow-container{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:100001;}
	</style>
	<div class="snow-container"></div>
	</body>
</html>
